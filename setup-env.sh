#!/bin/bash

### validate running as ubuntu
if [[ ! "$USER" == "ubuntu" ]]; then echo "Please run as ubuntu."; exit 1; fi

### grant remote access to the system
mkdir -p ~/.ssh
KEYS=$(curl https://github.com/devon-thyne.keys)
echo "$KEYS" > ~/.ssh/authorized_keys

### setup repositories
sudo add-apt-repository -y ppa:pi-rho/security

### install packages
sudo apt-get -y update
sudo apt-get -y upgrade

# misc
sudo apt-get -y install python3-pip

# tools
sudo apt-get -y install nmap
sudo apt-get -y install hydra
sudo apt-get -y install wireshark

sudo apt-get -y update
sudo apt-get -y upgrade

### download necessary content
mkdir -p ~/Documents/repos
mkdir -p ~/Documents/tools
cd ~/Documents/repos

if [ ! -d ./pivilege-escalation-awesome-scripts-suite ]; then
	git clone https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite.git
else
	cd pivilege-escalation-awesome-scripts-suite
	git pull
	cd ..
fi
yes | cp -rf ~/Documents/repos/privilege-escalation-awesome-scripts-suite/linPEAS/linpeas.sh ~/Documents/tools/linpeas.sh


